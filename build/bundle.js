!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){},function(t,e){window._configCanvas={w:window.innerWidth,h:window.innerHeight}},function(t,e,n){"use strict";n.r(e);n(0),n(1);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e,n,i,r,o,s,a,h){var u,c,l,f=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l=function(){var t=f.c,e=f.x,n=f.y,i=f.xs,r=f.ys;f.r,t.clearRect(e,n-1,i,r)},(c="clearPacman")in(u=this)?Object.defineProperty(u,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[c]=l,this.c=e,this.xs=n,this.counterMounth=void 0,this.gameMap=h,this.ys=i,this.x=r,this.y=o,this.mapCoord=[s,a],this.speed=1,this.angleOpenMounth=Math.PI/50*(n/4*3)/2,this.aa=Math.PI/2,this.direction=[1,0],this.anglePacman=0,this.openMounth=!0,this.color="#ffff00",this.name="pac man",this.r=n<i?Math.floor(n/2)-1:Math.floor(i/2)-1,this.createCounterMounth(),this.keyEventId=window.addEventListener("keydown",(function(t){var e=t.code;switch(e){case"ArrowUp":return f.direction=[0,-1];case"ArrowLeft":return f.direction=[-1,0];case"ArrowRight":return f.direction=[1,0];case"ArrowDown":return f.direction=[0,1]}console.log(e)}))}var e,n,r;return e=t,(n=[{key:"createCounterMounth",value:function(){var t=this;this.counterMounth=setInterval((function(){t.openMounth=!t.openMounth}),200)}},{key:"coolision",value:function(t,e,n,i,r,o,s,a){var h=this.gameMap,u=-1===a?Math.ceil(t/r):Math.floor(t/r),c=h[Math.floor(e/o)+s][u+a];if("@"===c||"#"===c||"P"===c)return!0}},{key:"move",value:function(){var t=this.x,e=this.y,n=i(this.direction,2),r=n[0],o=n[1],s=this.speed,a=this.xs,h=this.ys,u=t+s*r,c=e+s*o,l=this.coolision(t,e,u,c,a,h,o,r);l&&(this.x=u,this.y=c)}},{key:"renderPacMan",value:function(){this.move();var t=this.c,e=this.xs,n=this.ys,i=this.x,r=this.y,o=this.color,s=this.r,a=this.angleOpenMounth,h=this.anglePacman,u=this.aa,c=this.openMounth;(0,this.clearPacman)();var l=i+Math.floor(e/2),f=r+Math.floor(n/2);t.fillStyle=o,t.beginPath(),t.moveTo(l,f),c?t.arc(l,f,s,a+u*h,u*h-a):t.arc(l,f,s,0,2*Math.PI),t.fill()}}])&&o(e.prototype,n),r&&o(e,r),t}();function a(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e,n,i,r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameMap=r,this.c=i,this.entities=s,this.cg=o,this.xs=e,this.ys=n,this.cy=n/2,this.cx=e/2,this.dy=n/8,this.dx=e/8,this.ew=e/5,this.eh=n/5,this.exhs=e/2-this.ew/2,this.eyhs=n/2-this.eh/2,this.lineWidth=4,this.colorLine="#1b1bcd"}var e,n,i;return e=t,(n=[{key:"@",value:function(t,e){var n=this.c,i=this.ew,r=this.eh,o=this.exhs,s=this.eyhs;n.fillStyle="#ffb8ae",n.fillRect(t+o,e+s,i,r)}},{key:"#",value:function(){}},{key:"=",value:function(t,e){return this.rdl(t,e,!0)}},{key:"P",value:function(t,e,n,i){var r=this.cg,o=this.xs,a=this.ys,h=this.gameMap;this.entities.pacman=new s(r,o,a,t,e,n,i,h)}},{key:"║",value:function(t,e){return this.rdl(t,e,!1)}},{key:"╬",value:function(){return this.rda.apply(this,Array.prototype.slice.call(arguments).concat([!0]))}},{key:"╪",value:function(){return this.rda.apply(this,Array.prototype.slice.call(arguments).concat([!1]))}},{key:"┅",value:function(t,e){var n=this.c,i=this.cy,r=this.xs,o=this.lineWidth;n.strokeStyle="#ffb8ff",n.lineWidth=o,n.moveTo(t,e+i),n.lineTo(t+r,e+i)}},{key:"|",value:function(t,e){return this.rsl(t,e,!1)}},{key:"-",value:function(t,e){return this.rsl(t,e,!0)}},{key:"L",value:function(t,e){var n=this.xs,i=this.cx,r=this.cy;return this.rsa([t+i,e],[t+i,e+r,t+n,e+r])}},{key:"╕",value:function(t,e){var n=this.xs,i=this.ys,r=this.cx,o=this.cy,s=this.dx,a=this.dy;return this.rdla(t,e+o+a,t+r-s,e+o+a,t+r,e+i,t,e+o-a,e+o-a,t+n)}},{key:"╒",value:function(t,e){var n=this.xs,i=this.ys,r=this.cx,o=this.cy,s=this.dx,a=this.dy;return this.rdla(t+n,e+o+a,t+r+s,e+o+a,t+r,e+i,t,e+o-a,e+o-a,t+n)}},{key:"┏",value:function(t,e){var n=this.xs,i=this.ys,r=this.cx,o=this.cy;return this.rsa([t+r,e+i],[t+r,e+o,t+n,e+o])}},{key:"┛",value:function(t,e){this.xs,this.ys;var n=this.cx,i=this.cy;return this.rsa([t,e+i],[t+n,e+i,t+n,e])}},{key:"┓",value:function(t,e){this.xs;var n=this.ys,i=this.cx,r=this.cy;return this.rsa([t,e+r],[t+i,e+r,t+i,e+n])}},{key:"╓",value:function(t,e){var n=this.xs,i=this.ys,r=this.cx,o=this.cy,s=this.dx,a=this.dy;return this.rdla(t+r+s,e+i,t+r+a,e+o-a,t+n,e+o,t+r-s,e,e+i)}},{key:"╙",value:function(t,e){var n=this.xs,i=this.ys,r=this.cx,o=this.cy,s=this.dx,a=this.dy;return this.rdla(t+r+s,e,t+r+s,e+o+a,t+n,e+o,t+r-s,e,e+i)}},{key:"╜",value:function(t,e){this.xs;var n=this.ys,i=this.cx,r=this.cy,o=this.dx,s=this.dy;return this.rdla(t+i-o,e,t+i-s,e+r,t,e+r,t+i+o,e,e+n)}},{key:"╖",value:function(t,e){var n=this.xs,i=this.ys,r=this.cx,o=this.cy,s=this.dx,a=this.dy;return this.rdla(t+r-s,e+i,t+r-s,e+o-a,t,e+o,t+r+s,e,e+n)}},{key:"rdla",value:function(t,e,n,i,r,o,s,a,h,u){var c=this.c,l=this.colorLine,f=this.lineWidth;c.strokeStyle=l,c.lineWidth=f,c.moveTo(t,e),c.quadraticCurveTo(n,i,r,o),c.moveTo(s,a),c.lineTo(u||s,h)}},{key:"rsa",value:function(t,e){var n=this.c;n.moveTo.apply(n,a(t)),n.quadraticCurveTo.apply(n,a(e))}},{key:"rsl",value:function(t,e,n){var i=this.c,r=this.cy,o=this.cx,s=this.xs,a=this.ys,h=this.colorLine,u=this.lineWidth;i.strokeStyle=h,i.lineWidth=u,n?(i.moveTo(t,e+r),i.lineTo(t+s,e+r)):(i.moveTo(t+o,e),i.lineTo(t+o,e+a))}},{key:"rda",value:function(t,e,n,i,r){var o=this.xs,s=this.ys,a=this.cx,h=this.cy,u=this.dy,c=this.dx,l=this.c,f=this.gameMap,y=this.colorLine,d=this.lineWidth,v=[];l.strokeStyle=y,l.lineWidth=d,n+1==f.length||"="!==f[n+1][i]&&"║"!==f[n+1][i]||v.push([t+a,e+s]),0==n||"="!==f[n-1][i]&&"║"!==f[n-1][i]||v.push([t+a,e]),i+1==f[n].length||"="!==f[n][i+1]&&"║"!==f[n][i+1]||v.push([t+o,e+h]),0==i||"="!==f[n][i-1]&&"║"!==f[n][i-1]||v.push([t,e+h]);var p=v[0],m=v[1],b=p[0],g=p[1],x=m[0],w=m[1],k=b<x?w>g?-1:1:w>g?1:-1,L=b<x?-1:1;[-1,1].map((function(t){l.moveTo(b+c*t,g),r?l.quadraticCurveTo(x+a*L+c*t,w+u*t*k,x,w+u*t*k):(l.lineTo(x+a*L+c*t,w+u*t*k),l.lineTo(x,w+u*t*k))}))}},{key:"rdl",value:function(t,e,n){var i=this.c,r=this.cy,o=this.cx,s=this.dx,a=this.dy,h=this.xs,u=this.ys,c=this.colorLine,l=this.lineWidth;i.strokeStyle=c,i.lineWidth=l,n?(i.moveTo(t,e+r-a),i.lineTo(t+h,e+r-a),i.moveTo(t,e+r+a),i.lineTo(t+h,e+r+a),i.stroke()):(i.moveTo(t+o-s,e),i.lineTo(t+o-s,e+u),i.moveTo(t+o+s,e),i.lineTo(t+o+s,e+u),i.stroke())}}])&&u(e.prototype,n),i&&u(e,i),t}();function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.size=e,this.gm=n}var e,n,i;return e=t,(n=[{key:"setSize",value:function(){for(var t=this.gm,e=this.size,n=Math.floor(e/t[0].length),i=Math.floor(e/t.length),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.map((function(e){e.width=n*t[0].length,e.height=i*t.length})),[n,i]}}])&&l(e.prototype,n),i&&l(e,i),t}();function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(){var t=document.getElementById("map"),e={pacman:{}},n=document.getElementById("game"),i=window.innerWidth>window.innerHeight?window.innerHeight-15:window.innerWidth-15,r=t.getContext("2d"),o=n.getContext("2d"),s=[["╬","=","=","=","=","=","=","=","=","=","=","=","=","╕","╒","=","=","=","=","=","=","=","=","=","=","=","=","╬"],["║","@","@","@","@","@","@","@","@","@","@","@","@","|","|","@","@","@","@","@","@","@","@","@","@","@","@","║"],["║","@","┏","-","-","┓","@","┏","-","-","-","┓","@","|","|","@","┏","-","-","-","┓","@","┏","-","-","┓","@","║"],["║","@","|","#","#","|","@","|","#","#","#","|","@","|","|","@","|","#","#","#","|","@","|","#","#","|","@","║"],["║","@","L","-","-","┛","@","L","-","-","-","┛","@","L","┛","@","L","-","-","-","┛","@","L","-","-","┛","@","║"],["║","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","║"],["║","@","┏","-","-","┓","@","┏","┓","@","┏","-","-","-","-","-","-","┓","@","┏","┓","@","┏","-","-","┓","@","║"],["║","@","L","-","-","┛","@","|","|","@","L","-","-","┓","┏","-","-","┛","@","|","|","@","L","-","-","┛","@","║"],["║","@","@","@","@","@","@","|","|","@","@","@","@","|","|","@","@","@","@","|","|","@","@","@","@","@","@","║"],["╬","=","=","=","=","╬","@","|","L","-","-","┓","@","|","|","@","┏","-","-","┛","|","@","╬","=","=","=","=","╬"],["#","#","#","#","#","║","@","|","┏","-","-","┛","@","L","┛","@","L","-","-","┓","|","@","║","#","#","#","#","#"],["#","#","#","#","#","║","@","|","|","@","@","@","@","@","@","@","@","@","@","|","|","@","║","#","#","#","#","#"],["#","#","#","#","#","║","@","|","|","@","╪","=","=","┅","┅","=","=","╪","@","|","|","@","║","#","#","#","#","#"],["=","=","=","=","=","╬","@","L","┛","@","║","#","#","#","#","#","#","║","@","L","┛","@","╬","=","=","=","=","="],["#","#","#","#","#","#","@","@","@","@","║","#","#","#","#","#","#","║","@","@","@","@","#","#","#","#","#","#"],["=","=","=","=","=","╬","@","┏","┓","@","║","#","#","#","#","#","#","║","@","┏","┓","@","╬","=","=","=","=","="],["#","#","#","#","#","║","@","|","|","@","╪","=","=","=","=","=","=","╪","@","|","|","@","║","#","#","#","#","#"],["#","#","#","#","#","║","@","|","|","@","@","@","@","@","@","@","@","@","@","|","|","@","║","#","#","#","#","#"],["#","#","#","#","#","║","@","|","|","@","┏","-","-","-","-","-","-","┓","@","|","|","@","║","#","#","#","#","#"],["╬","=","=","=","=","╬","@","L","┛","@","L","-","-","┓","┏","-","-","┛","@","L","┛","@","╬","=","=","=","=","╬"],["║","@","@","@","@","@","@","@","@","@","@","@","@","|","|","@","@","@","@","@","@","@","@","@","@","@","@","║"],["║","@","┏","-","-","┓","@","┏","-","-","-","┓","@","|","|","@","┏","-","-","-","┓","@","┏","-","-","┓","@","║"],["║","@","L","-","┓","|","@","L","-","-","-","┛","@","L","┛","@","L","-","-","-","┛","@","|","┏","-","┛","@","║"],["║","@","@","@","|","|","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","@","|","|","@","@","@","║"],["╙","-","┓","@","|","|","@","┏","┓","@","┏","-","-","-","-","-","-","┓","@","┏","┓","@","|","|","@","┏","-","╜"],["╓","-","┛","@","L","┛","@","|","|","@","L","-","-","┓","┏","-","-","┛","@","|","|","@","L","┛","@","L","-","╖"],["║","@","@","@","@","@","@","|","|","@","@","@","@","|","|","@","@","@","@","|","|","@","@","@","@","@","@","║"],["║","@","┏","-","-","-","-","┛","L","-","-","┓","@","|","|","@","┏","-","-","┛","L","-","-","-","-","┓","@","║"],["║","@","L","-","-","-","-","-","-","-","-","┛","@","L","┛","@","L","-","-","-","-","-","-","-","-","┛","@","║"],["║","@","@","@","@","@","@","@","@","@","@","@","@","P","@","@","@","@","@","@","@","@","@","@","@","@","@","║"],["╬","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","=","╬"]],a=y(new f(i,s).setSize(t,n),2),h=a[0],u=a[1],l=new c(h,u,r,s,o,e);function d(){e.pacman.renderPacMan(),requestAnimationFrame(d)}s.map((function(t,e){t.map((function(t,n){r.beginPath(),r.lineWidth=1,r.rect(h*n,u*e,h,u),r.stroke(),r.beginPath(),l[t](h*n,u*e,e,n),r.stroke()}))})),d()}()}]);